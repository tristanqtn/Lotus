<!DOCTYPE html>
<html>
  <head>
    <link rel="stylesheet" href="panel.css" />
    <title>Lotus - API Replay Tool</title>
  </head>
  <body>
    <header>
      <div class="title">Lotus</div>
        <div style="font-size:13px; color:var(--lotus-comment); margin-left:8px; font-style:italic;">
          by <span style="color:var(--lotus-pink); font-weight:bold;">tristanqtn</span>
        </div>
        <div class="controls">
        <input type="text" id="filter" placeholder="Filter requests..." />
        <button id="clear">Clear All</button>
        <button
          id="group-related"
          class="icon-button"
          title="Group related requests together"
        >
          Group Related
        </button>
        <button
          id="theme-toggle"
          class="icon-button"
          title="Toggle Light/Dark Mode"
        >
          Light Mode
        </button>
      </div>
    </header>

    <div class="container">
      <div class="sidebar">
        <div id="requests-container">
          <div id="requests"></div>
        </div>
      </div>
      <div class="main-content">
        <div class="request-panel">
          <div class="panel-header">
            <div class="method" id="req-method">-</div>
            <div class="url" id="req-url">-</div>
          </div>
          <div class="tabs">
            <div class="tab active" data-target="req-headers">Headers</div>
            <div class="tab" data-target="req-body">Body</div>
            <div class="format-controls">
              <button
                class="format-toggle active"
                data-target="req"
                title="Toggle formatting"
              >
                Pretty
              </button>
              <div class="format-type-dropdown">
                <button class="format-type-button" data-target="req">
                  Format: JSON
                </button>
                <div class="format-type-options">
                  <div
                    class="format-option"
                    data-format="json"
                    data-target="req"
                  >
                    JSON
                  </div>
                  <div
                    class="format-option"
                    data-format="xml"
                    data-target="req"
                  >
                    XML
                  </div>
                  <div
                    class="format-option"
                    data-format="html"
                    data-target="req"
                  >
                    HTML
                  </div>
                  <div class="format-option" data-format="js" data-target="req">
                    JavaScript
                  </div>
                  <div
                    class="format-option"
                    data-format="css"
                    data-target="req"
                  >
                    CSS
                  </div>
                </div>
              </div>
            </div>
          </div>
          <div class="tab-content">
            <div class="tab-pane active" id="req-headers">
              <pre></pre>
            </div>
            <div class="tab-pane" id="req-body">
              <pre></pre>
            </div>
          </div>
        </div>

        <div class="response-panel">
          <div class="panel-header">
            <div class="status" id="resp-status">-</div>
          </div>
          <div class="tabs">
            <div class="tab active" data-target="resp-headers">Headers</div>
            <div class="tab" data-target="resp-body">Body</div>
            <div class="format-controls">
              <button
                class="format-toggle active"
                data-target="resp"
                title="Toggle formatting"
              >
                Pretty
              </button>
              <div class="format-type-dropdown">
                <button class="format-type-button" data-target="resp">
                  Format: JSON
                </button>
                <div class="format-type-options">
                  <div
                    class="format-option"
                    data-format="json"
                    data-target="resp"
                  >
                    JSON
                  </div>
                  <div
                    class="format-option"
                    data-format="xml"
                    data-target="resp"
                  >
                    XML
                  </div>
                  <div
                    class="format-option"
                    data-format="html"
                    data-target="resp"
                  >
                    HTML
                  </div>
                  <div
                    class="format-option"
                    data-format="js"
                    data-target="resp"
                  >
                    JavaScript
                  </div>
                  <div
                    class="format-option"
                    data-format="css"
                    data-target="resp"
                  >
                    CSS
                  </div>
                </div>
              </div>
            </div>
          </div>
          <div class="tab-content">
            <div class="tab-pane active" id="resp-headers">
              <pre></pre>
            </div>
            <div class="tab-pane" id="resp-body">
              <pre></pre>
            </div>
          </div>
        </div>        <div class="actions">
          <button id="copy-curl">Copy as cURL</button>
          <button id="modify-resend">Modify & Resend</button>
          <button id="delete-request">Delete Request</button>
        </div>
      </div>
    </div>

    <!-- Modal for modifying and resending requests -->
    <div id="modify-modal" class="modal">
      <div class="modal-content">
        <div class="modal-header">
          <h2>Modify Request</h2>
          <span class="close-modal">&times;</span>
        </div>
        <div class="modal-body">
          <div class="form-group">
            <label for="modal-method">Method</label>
            <select id="modal-method">
              <option value="GET">GET</option>
              <option value="POST">POST</option>
              <option value="PUT">PUT</option>
              <option value="DELETE">DELETE</option>
              <option value="PATCH">PATCH</option>
              <option value="HEAD">HEAD</option>
              <option value="OPTIONS">OPTIONS</option>
            </select>
          </div>
          <div class="form-group">
            <label for="modal-url">URL</label>
            <input
              type="text"
              id="modal-url"
              placeholder="https://example.com/api/resource"
            />
          </div>
          <div class="form-group">
            <label for="modal-headers">Headers (JSON)</label>
            <textarea
              id="modal-headers"
              rows="5"
              placeholder='{ "Content-Type": "application/json" }'
            ></textarea>
          </div>
          <div class="form-group">
            <label for="modal-body">Body</label>
            <textarea
              id="modal-body"
              rows="8"
              placeholder='{ "key": "value" }'
            ></textarea>
          </div>
        </div>
        <div class="modal-footer">
          <button id="modal-cancel" class="btn-secondary">Cancel</button>
          <button id="modal-send" class="btn-primary">Send Request</button>
        </div>
      </div>
    </div>

    <script type="module" src="panel.js"></script>
  </body>
</html>
